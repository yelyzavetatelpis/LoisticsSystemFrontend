<div class="dashboard-container">
  <!-- Page Header -->
  <div class="page-header">
    <h2>Dashboard</h2>
    <p class="welcome-text">Welcome back! Here's an overview of recent statistics.</p>
  </div>

  <!-- KPI Cards Section - ADMIN VIEW -->
  <div class="kpi-grid">
    <div class="kpi-card">
      <div class="kpi-header">
        <i class="bi bi-box-seam"></i>
        <span class="kpi-label">Total Orders</span>
      </div>
      <h3 class="kpi-value">{{ kpis.totalOrders }}</h3>
      <p class="kpi-subtitle">All time orders</p>
    </div>

    <div class="kpi-card">
      <div class="kpi-header">
        <i class="bi bi-truck"></i>
        <span class="kpi-label">Active Shipments</span>
      </div>
      <h3 class="kpi-value">{{ kpis.activeShipments }}</h3>
      <p class="kpi-subtitle">Currently in transit</p>
    </div>

    <div class="kpi-card">
      <div class="kpi-header">
        <i class="bi bi-person-badge"></i>
        <span class="kpi-label">Total Drivers</span>
      </div>
      <h3 class="kpi-value">{{ kpis.totalDrivers }}</h3>
      <p class="kpi-subtitle">Registered drivers</p>
    </div>

    <div class="kpi-card">
      <div class="kpi-header">
        <i class="bi bi-map"></i>
        <span class="kpi-label">Active Trips</span>
      </div>
      <h3 class="kpi-value">{{ kpis.activeTrips }}</h3>
      <p class="kpi-subtitle">Ongoing deliveries</p>
    </div>
  </div>

  <!-- Recent Orders Section -->
  <div class="section-card">
    <div class="section-header">
      <h3>Recent Orders</h3>
      <button class="btn-secondary" (click)="viewAllOrders()">View All</button>
    </div>
    
    <div class="table-container" *ngIf="recentOrders.length > 0">
      <table class="data-table">
        <thead>
          <tr>
            <th>Order ID</th>
            <th>Customer</th>
            <th>Status</th>
            <th>Created Date</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let order of recentOrders">
            <td>#{{ order.orderId }}</td>
            <td>{{ order.customerName }}</td>
            <td>
              <span class="status-badge" [ngClass]="'status-' + order.statusName.toLowerCase()">
                {{ order.statusName }}
              </span>
            </td>
            <td>{{ order.createdAt | date:'short' }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="empty-state" *ngIf="recentOrders.length === 0">
      <i class="bi bi-inbox"></i>
      <p>No recent orders found</p>
    </div>
  </div>

  <!-- System Overview Section -->
  <div class="section-card">
    <div class="section-header">
      <h3>System Overview</h3>
    </div>
    
    <div class="status-grid">
      <div class="status-item">
        <span class="status-label">Total Customers:</span>
        <span class="status-value">{{ kpis.totalCustomers }}</span>
      </div>
      <div class="status-item">
        <span class="status-label">Pending Orders:</span>
        <span class="status-value">{{ kpis.pendingOrders }}</span>
      </div>
      <div class="status-item">
        <span class="status-label">Completed Shipments:</span>
        <span class="status-value">{{ kpis.completedShipments }}</span>
      </div>
      <div class="status-item">
        <span class="status-label">Available Vehicles:</span>
        <span class="status-value">{{ kpis.availableVehicles }}</span>
      </div>
    </div>
  </div>
</div>